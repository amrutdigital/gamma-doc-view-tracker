<!DOCTYPE html>
<html>
<head>
  <title>.</title>
</head>
<body>

<script>
(async function() {

  const params = new URLSearchParams(window.location.search);
  const prospect = params.get("p") || "unknown";

  const ua = navigator.userAgent;

  function detectOS(ua) {
    if (ua.includes("Windows")) return "Windows";
    if (ua.includes("Mac")) return "Mac";
    if (ua.includes("Linux")) return "Linux";
    if (ua.includes("iPhone") || ua.includes("iPad")) return "iOS";
    if (ua.includes("Android")) return "Android";
    return "Unknown";
  }

  function detectBrowser(ua) {
    if (ua.includes("Chrome")) return "Chrome";
    if (ua.includes("Safari") && !ua.includes("Chrome")) return "Safari";
    if (ua.includes("Firefox")) return "Firefox";
    if (ua.includes("Edg")) return "Edge";
    return "Unknown";
  }

  function detectDevice(ua) {
    if (/Mobi|Android/i.test(ua)) return "Mobile";
    return "Desktop";
  }

  let geo = {};
  try {
    const res = await fetch("https://ipapi.co/json/");
    geo = await res.json();
  } catch (e) {}

  await fetch("https://hook.eu1.make.com/ogl2vguvfeikm55fwaqa42f8dkvw1aow", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      prospect: prospect,
      timestamp: new Date().toISOString(),
      os: detectOS(ua),
      browser: detectBrowser(ua),
      device: detectDevice(ua),
      city: geo.city || "unknown",
      country: geo.country_name || "unknown",
      org: geo.org || "unknown"
    })
  });

})();
</script>



</body>
</html>
